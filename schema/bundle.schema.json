{
  "$schema": "https://json-schema.org/draft-07/schema",
  "type": "object",
  "title": "Bundle",
  "required": [
    "params",
    "connections",
    "artifacts",
    "ui",
    "schema",
    "description",
    "ref",
    "access",
    "type"
  ],
  "properties": {
    "name": {
      "title": "Title",
      "type": "string",
      "description": "The name of the bundle. This will be prefixed with your organization name upon publishing.",
      "pattern": "^[a-z][a-z0-9-]+[a-z0-9]$",
      "minLength": 3,
      "maxLength": 53
    },
    "schema": {
      "title": "JSON Schema Schema",
      "type": "string",
      "description": "The JSON Schema used to define the bundle.",
      "enum": [
        "draft-07"
      ]
    },
    "description": {
      "title": "Description",
      "description": "A description of the bundle.",
      "type": "string",
      "minLength": 10,
      "maxLength": 1024
    },
    "ref": {
      "title": "Source URL",
      "type": "string",
      "description": "Link to the bundle source code.",
      "format": "uri"
    },
    "access": {
      "title": "Access",
      "type": "string",
      "description": "The access level of the bundle. Private bundles will only be accessible by the organization it is published under.",
      "enum": [
        "public",
        "private"
      ]
    },
    "type": {
      "title": "Type",
      "type": "string",
      "description": "The type of bundle: infrastructure (legacy term: bundle) or application.",
      "enum": [
        "bundle",
        "application"
      ]
    },
    "params": {
      "title": "Input Parameters",
      "description": "Input parameters for the bundle. These will be converted to input variables for your IaC module."
    },
    "connections": {
      "title": "Input Connections",
      "description": "Input connections for this bundle. Determines which artifacts from other bundles this bundle depends on. These will be converted to input variables for your IaC module."
    },
    "artifacts": {
      "title": "Output Artifacts",
      "description": "Cloud resources created by this bundle that are available to be used as input connections to other bundles. See: https://github.com/massdriver-cloud/artifact-definitions"
    },
    "ui": {
      "type": "object",
      "additionalProperties": true,
      "description": "RJSF UI Schema for advanced control over the UI. See https://react-jsonschema-form.readthedocs.io/en/docs/api-reference/uiSchema/#uischema"
    }
  }
}
